<form id="form" method="post">
    <div class="row">
        <div class="col-12">
            <h3 class="header-font">Incident type</h3>
        </div>
    </div>

    <div class="d-flex gap-3" id="incidentTypes" style="padding-bottom: 28px;">
        @foreach (var incidentType in @IncidentTypes)
        {
            <div class="col-and-half">
                <a class="incident-type" data-id="@incidentType.Id">
                    <div class="rect-img" style="background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, #000000 100%), url('@incidentType.Image');">
                        <div class="rect-img-blur">
                            <span class="rect-img-font">@incidentType.Name</span>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>

    <div class="row">
        <div class="col-12">
            <h3 class="header-font">Business Unit</h3>
        </div>
    </div>

    <div class="container-fluid" style="position:relative; padding-bottom: 200px;">
        <div class="d-flex gap-2">
            @foreach (var unit in Units)
            {
                <div class="col-and-half">
                    <button type="button" class="unit btn-selection btn-aqua rect-button" data-id="@unit.Id" data-selected="@unit.IsSelected">@unit.Name</button>
                </div>
            }
        </div>
    </div>

    <input hidden type="text" name="unitId" required />
    <input hidden type="text" name="incidentTypeId" required />
    <input hidden type="text" name="unit" required />
    <input hidden type="text" name="incidentType" required />
    <button type="submit" hidden></button>

            <button id="form-button" class="btn btn-secondary btn-aqua rect-button-confirm submit-button incident-form-button"  @onclick="onConfirm">Confirm</button>
</form>

@code {

    [Parameter]
    public Func<Task> onConfirm {get; set;}

    private List<IncidentType> IncidentTypes = new List<IncidentType>{
        new IncidentType{Id = "1", Name = "Fire (full emergency)", Image="/assets/alert-fire.png"},
        new IncidentType{Id = "2", Name = "Weather standby", Image="/assets/alert-smoke.png"},
        new IncidentType{Id = "3", Name = "Unlawful act", Image="/assets/alert-gas-leak.png"},
        new IncidentType{Id = "4", Name = "Domestic fire", Image="assets/alert-chimical-leak.png"},
        new IncidentType{Id = "5", Name = "Oil spillage", Image="assets/alert-dangerous-goods.png"},
        new IncidentType{Id = "6", Name = "Fuel spillage", Image="assets/alert-dangerous-goods.png"},
        new IncidentType{Id = "7", Name = "Dangerous goods", Image="assets/alert-dangerous-goods.png"},
        };
    private List<Unit> Units = new List<Unit>{
        new Unit{Id = "1", IsSelected = true, Name = "EPCL"},
        new Unit{Id = "2", IsSelected = false, Name = "EIL"},
        new Unit{Id = "3", IsSelected = false, Name = "DOUGAS"},
        new Unit{Id= "4", IsSelected=false, Name= "EMGAS"},
        new Unit{Id= "5", IsSelected=false, Name= "HEJP - FALCON"},
        new Unit{Id= "6", IsSelected=false, Name= "HJATL"},
        new Unit{Id= "7", IsSelected=false, Name= "DLPP"},
        };


       public class Unit {
        public string Id { get; set; }
        public bool IsSelected { get; set; }
        public string Name { get; set; }    

       }

       public class IncidentType {
        public string Id { get; set; }
        public string Name { get; set; }
      
        public string Image {get; set;}

       }
    }
    
 